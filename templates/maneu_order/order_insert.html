{% extends 'maneu/base.html' %}
{% load static %}
{% block content %}
    <div class="col-md-6 offset-md-2">
        <form id="order_insert">
            {% csrf_token %}
            <table class="table">
                <thead>
                <tr>
                    <td class="col-md-2">
                        <span style="padding: 10%">姓名</span>
                    </td>
                    <td class="col-md-10" colspan="9">
                        <input type="hidden" name="order" id="order">
                        <input type="text" name="c_name" id="c_name" class="form-control">
                        <span id="username_error"></span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-2">
                        <span style="padding: 10%">电话</span>
                    </td>
                    <td class="col-md-10" colspan="9">
                        <input type="text" name="c_phone" id="c_phone" class="form-control">
                        <span id="phone_error"></span>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-2">
                        <span style="padding: 10%">备注</span>
                    </td>
                    <td class="col-md-10" colspan="9">
                        <input type="text" name="remark" id="remark" class="form-control">
                        <span id="remake_error"></span>
                    </td>
                </tr>
                </thead>
                <tbody id="order_content">
                <tr id="order_banner" style="display: none">
                    <td><span>产品</span></td>
                    <td><span>品牌</span></td>
                    <td><span>型号</span></td>
                    <td><span>度数</span></td>
                    <td><span>散光</span></td>
                    <td><span>折射</span></td>
                    <td><span>方向</span></td>
                    <td><span>瞳距</span></td>
                    <td><span>渐进</span></td>
                    <td><span>偏光</span></td>
                </tr>
                </tbody>
                <tfoot>
                <tr>
                    <td></td>
                    <td colspan="2">
                        <a type="button" class="btn btn-warning" href="{% url 'maneu_order:order_list' %}">返回列表</a>
                    </td>
                    <td colspan="2">
                        <input type="button" class="btn btn-primary" id="glass_insert_show" value="添加镜片">
                        <input type="button" class="btn btn-warning" id="glass_insert_hide" value="取消添加" style="display: none">
                    </td>
                    <td colspan="2">
                        <input type="button" class="btn btn-primary" id="framework_insert_show" value="添加镜框">
                        <input type="button" class="btn btn-warning" id="framework_insert_hide" value="取消添加" style="display: none">
                    </td>
                    <td colspan="4">
                        <input class="btn btn-danger" id="insert" type="button" value="提交订单" style="display: none">
                    </td>
                </tr>
                </tfoot>
            </table>
        </form>
        <form id="framework_insert">
            <table class="table" id="framework_table" style="display: none">
                <tr>
                    <td style="width: 10%">
                        <span>品牌</span>
                    </td>
                    <td>
                        <input type="text" class="form-control" name="brand">
                    </td>
                </tr>
                <tr>
                    <td>
                        <span>型号</span>
                    </td>
                    <td>
                        <input type="text" class="form-control" name="model">
                    </td>
                </tr>
                <tr>
                    <td>
                        <input type="hidden" name="store_id" id="framework">
                        <input type="hidden" name="count" value="1">
                        <input type="hidden" name="product" value="镜框">
                    </td>
                    <td>
                        <input type="button" id="framework_insert_btn" class="col-md-12 btn btn-primary" value="提交">
                    </td>
                </tr>
            </table>
        </form>
        <form id="glass_insert">
            <table class="table" id="glass_table" style="display: none">
                <tr>
                    <td style="width: 10%">
                        <span>品牌</span>
                    </td>
                    <td>
                        <input class="form-control" id="glass_brand_select" form="glass_insert" name="brand">
                    </td>
                </tr>
                <tr>
                    <td>
                        <span>型号</span>
                    </td>
                    <td>
                        <input class="form-control" id="glass_model_select" form="glass_insert" name="model">
                    </td>
                </tr>
                <tr>
                    <td>
                        <span>度数</span>
                    </td>
                    <td>
                        <input class="form-control" id="glass_sphere_select" form="glass_insert" name="sphere">
                    </td>
                </tr>
                <tr>
                    <td>
                        <span>散光</span>
                    </td>
                    <td>
                        <input class="form-control" id="glass_astigmatic_select" form="glass_insert" name="astigmatic">
                    </td>
                </tr>
                <tr>
                    <td>
                        <span>折射</span>
                    </td>
                    <td>
                        <input class="form-control" id="glass_refraction_select" form="glass_insert" name="refraction">
                    </td>
                </tr>
                <tr>
                    <td><span>方向</span></td>
                    <td>
                        <input class="form-control" name="Around" form="glass_insert">
                    </td>
                </tr>
                <tr>
                    <td><span>瞳距</span></td>
                    <td>
                        <input class="form-control" type="text" name="pd">
                    </td>
                </tr>
                <tr>
                    <td><span>渐进</span></td>
                    <td>
                        <input class="form-control" type="text" name="add">
                    </td>
                </tr>
                <tr>
                    <td><span>偏光</span></td>
                    <td>
                        <input class="form-control" type="text" name="deviation">
                    </td>
                </tr>
                <tr>
                    <td>
                        <input type="hidden" name="count" value="1">
                        <input type="hidden" name="product" value="镜片">
                        <input type="hidden" name="store_id" id="glass">
                    </td>
                    <td colspan="10">
                        <input type="button" class="col-md-12 btn btn-primary" id="glass_insert_btn" value="提交">
                    </td>
                </tr>
            </table>
        </form>
    </div>
{% endblock%}
{% block javascript %}
    <script>
        c_name = $("#c_name")                                       //客户姓名
        c_phone = $("#c_phone")                                     //客户电话
        order = [];                                                 //订单存放列表
        framework = $("#framework");                                //仓库编号
        framework_table = $("#framework_table");                    //添加镜框表格
        framework_insert = $("#framework_insert");                  //添加镜框表单
        framework_insert_btn = $("#framework_insert_btn");          //添加按钮
        framework_insert_show = $("#framework_insert_show");        //显示镜框表格
        framework_insert_hide = $("#framework_insert_hide");        //隐藏镜框表格
        framework_model_select = $("#framework_model_select");      //镜框品牌选择框
        framework_brand_select = $("#framework_brand_select");      //镜框型号选择框
        glass_table = $("#glass_table");                            //镜片表格
        glass_insert = $("#glass_insert");                          //镜片表单
        glass_insert_btn = $("#glass_insert_btn");                  //镜片添加按钮
        glass_insert_hide = $("#glass_insert_hide");                //隐藏镜片表格
        glass_insert_show = $("#glass_insert_show");                //显示镜片表格
    </script>
    <script>
        api_order_list = "{% url 'maneu_order:api_order_list' %}";
        api_order_insert = "{% url 'maneu_order:api_order_insert' %}";
    </script>
    <script src="{% static 'js/order/order_insert/order_insert.js' %}">/*提交订单modules*/</script>
    <script src="{% static 'js/order/order_insert/glass_modules.js' %}">/*添加镜片相关js模块*/</script>
    <script src="{% static 'js/order/order_insert/framework_modules.js' %}">/*添加镜框相关js模块*/</script>
{% endblock %}